const { Telegraf, Markup } = require('telegraf');

require('dotenv').config();
const my_const = require('./const');
const bot = new Telegraf(process.env.BOT_TOKEN);
bot.start((ctx) => ctx.reply(`ÐŸÑ€Ð¸Ð²ÐµÑ‚ ${ctx.message.from.first_name ? ctx.message.from.first_name : 'Ð½ÐµÐ·Ð½Ð°ÐºÐ¾Ð¼ÐµÑ†'}!ÐœÐµÐ½Ñ Ð·Ð¾Ð²ÑƒÑ‚ .... Ð¸ Ñ ÑÐ¾Ð·Ð´Ð°Ð½ Ð´Ð»Ñ Ñ‚Ð¾Ð³Ð¾, Ñ‡Ñ‚Ð¾Ð±Ñ‹ Ð¿Ð¾Ð¼Ð¾Ñ‡ÑŒ Ñ‚ÐµÐ±Ðµ Ñ Ñ€ÐµÐºÐ»Ð°Ð¼Ð¾Ð¹.

Ð—Ð´ÐµÑÑŒ Ñ‚Ñ‹ Ð¼Ð¾Ð¶ÐµÑˆÑŒ Ð½Ð°Ð¹Ñ‚Ð¸ Ñ‚ÐµÐ»ÐµÐ³Ñ€Ð°Ð¼Ð¼ ÐºÐ°Ð½Ð°Ð»Ñ‹, Ð¿Ð¾Ð´Ñ…Ð¾Ð´ÑÑ‰Ð¸Ðµ Ð´Ð»Ñ Ñ‚ÐµÐ±Ñ Ð¸ Ñ‚Ð²Ð¾ÐµÐ¹ Ñ€ÐµÐºÐ»Ð°Ð¼Ñ‹, Ð° Ñ‚Ð°ÐºÐ¶Ðµ ÑÐ¾Ð·Ð´Ð°Ñ‚ÑŒ ÐºÐ°Ñ€Ñ‚Ð¾Ñ‡ÐºÑƒ Ñ Ð¾Ð¿Ð¸ÑÐ°Ð½Ð¸ÐµÐ¼ ÑÐ²Ð¾ÐµÐ¹ Ð³Ñ€ÑƒÐ¿Ð¿Ñ‹ Ð´Ð»Ñ Ð¿Ð¾Ð¸ÑÐºÐ° Ñ€ÐµÐºÐ»Ð°Ð¼Ð¾Ð´Ð°Ñ‚ÐµÐ»ÐµÐ¹.

ÐÐ¾ Ñ‡ÐµÐ¼ Ð¶Ðµ ÑÑ‚Ð¾Ñ‚ Ð±Ð¾Ñ‚ Ð¾Ñ‚Ð»Ð¸Ñ‡Ð°ÐµÑ‚ÑÑ Ð¾Ñ‚ Ð¾Ð±Ñ‹Ñ‡Ð½Ñ‹Ñ… Ñ‡Ð°Ñ‚Ð¾Ð²-Ð±Ð¸Ñ€Ð¶ Ð´Ð»Ñ Ð¿Ð¾Ð¸ÑÐºÐ° Ñ€ÐµÐºÐ»Ð°Ð¼Ñ‹? Ð”Ð»Ñ Ñ‚Ð¾Ð³Ð¾, Ñ‡Ñ‚Ð¾Ð±Ñ‹ ÑƒÐ·Ð½Ð°Ñ‚ÑŒ Ð¾Ð± ÑÑ‚Ð¾Ð¼ Ð¿Ð¾Ð´Ñ€Ð¾Ð±Ð½ÐµÐµ Ð²Ñ‹Ð±ÐµÑ€Ð¸ Ð¿Ð¾Ð´Ñ…Ð¾Ð´ÑÑ‰ÑƒÑŽ Ð´Ð»Ñ Ñ‚ÐµÐ±Ñ ÐºÐ°Ñ‚ÐµÐ³Ð¾Ñ€Ð¸ÑŽ Ð½Ð¸Ð¶ÐµðŸ‘‡

Ð•ÑÐ»Ð¸ Ñ‚Ñ‹ Ñ€ÐµÐºÐ»Ð°Ð¼Ð¾Ð´Ð°Ñ‚ÐµÐ»ÑŒ Ð¸ Ð¸Ñ‰ÐµÑˆÑŒ Ð¿Ð¾Ð´Ñ…Ð¾Ð´ÑÑ‰ÑƒÑŽ Ñ‚ÐµÐ±Ðµ Ð³Ñ€ÑƒÐ¿Ð¿Ñƒ, Ñ‚Ð¾ Ð¶Ð¼Ð¸ ÑÑŽÐ´Ð° ðŸ‘‰/admin
Ð•ÑÐ»Ð¸ Ñ‚Ñ‹ Ð°Ð´Ð¼Ð¸Ð½ Ð³Ñ€ÑƒÐ¿Ð¿Ñ‹ Ð¸ Ñ…Ð¾Ñ‡ÐµÑˆÑŒ, Ñ‡Ñ‚Ð¾Ð±Ñ‹ Ñ‚ÐµÐ±Ñ Ð½Ð°ÑˆÐµÐ» Ñ€ÐµÐºÐ»Ð°Ð¼Ð¾Ð´Ð°Ñ‚ÐµÐ»ÑŒ, Ñ‚Ð¾ Ð¶Ð¼Ð¸ ÑÑŽÐ´Ð° ðŸ‘‰/advert`));
bot.command('admin', async (ctx)=> {
    try{
   await ctx.reply ('Ð¢Ð°Ðº, Ñ‚Ð°Ðº. Ð—Ð½Ð°Ñ‡Ð¸Ñ‚ Ñ‚Ñ‹ Ð°Ð´Ð¼Ð¸Ð½ Ð³Ñ€ÑƒÐ¿Ð¿Ñ‹ Ð¸ Ð¸Ñ‰ÐµÑˆÑŒ Ñ€ÐµÐºÐ»Ð°Ð¼Ð¾Ð´Ð°Ñ‚ÐµÐ»Ñ. Ð¥Ð¾Ñ€Ð¾ÑˆÐ¾, Ð´Ð°Ð²Ð°Ð¹ Ñ Ñ€Ð°ÑÑÐºÐ°Ð¶Ñƒ Ñ‚ÐµÐ±Ðµ, ÐºÐ°Ðº Ñ Ð¼Ð¾Ð³Ñƒ Ð¿Ð¾Ð¼Ð¾Ñ‡ÑŒ Ð¸ Ð¾ÑÐ²Ð¾Ð±Ð¾Ð´Ð¸Ñ‚ÑŒ Ñ‚Ð²Ð¾Ðµ Ð²Ñ€ÐµÐ¼Ñ Ð¾Ñ‚ Ð²ÐµÑ‡Ð½Ð¾Ð³Ð¾ Ð¿Ð¾Ð¸ÑÐºÐ°. Ð”Ð»Ñ ÑÑ‚Ð¾Ð³Ð¾ Ñ‚ÐµÐ±Ðµ Ð´Ð¾ÑÑ‚Ð°Ñ‚Ð¾Ñ‡Ð½Ð¾ Ð·Ð°Ð¿Ð¾Ð»Ð½Ð¸Ñ‚ÑŒ ÐºÐ°Ñ€Ñ‚Ð¾Ñ‡ÐºÑƒ, ÐºÐ¾Ñ‚Ð¾Ñ€Ð°Ñ ÐºÑ€Ð°Ñ‚ÐºÐ¾ Ð¾Ð¿Ð¸ÑˆÐµÑ‚ Ñ‚Ð²Ð¾ÑŽ Ð³Ñ€ÑƒÐ¿Ð¿Ñƒ Ð¸ Ñ€Ð°ÑÑÐºÐ°Ð¶ÐµÑ‚ Ð¾ ÐµÐµ Ð¿Ñ€ÐµÐ¸Ð¼ÑƒÑ‰ÐµÑÑ‚Ð²Ð°Ñ…. Ð¥Ð¾Ñ‡ÐµÑˆÑŒ Ð¿Ð¾Ð¿Ñ€Ð¾Ð±Ð¾Ð²Ð°Ñ‚ÑŒ? Ð–Ð¼Ð¸ Ð´Ð°Ð»ÐµÐµ!', Markup.inlineKeyboard(
    [
        [Markup.button.callback('Ð”Ð°Ð»ÐµÐµ', 'btn-1')]
    ]
   ))
} catch(e) {
    console.error(e)
}
});
bot.command('advert', async (ctx)=> {
    try{
   await ctx.reply('Ð¥Ð¾Ñ€Ð¾ÑˆÐ¾, Ð·Ð½Ð°Ñ‡Ð¸Ñ‚ Ñ‚Ñ‹ Ñ€ÐµÐºÐ»Ð°Ð¼Ð¾Ð´Ð°Ñ‚ÐµÐ»ÑŒ Ð¸ Ð¸Ñ‰ÐµÑˆÑŒ Ð³Ñ€ÑƒÐ¿Ð¿Ñƒ, Ð¿Ð¾Ð´Ñ…Ð¾Ð´ÑÑ‰ÑƒÑŽ Ð¿Ð¾Ð´ Ñ‚Ð²Ð¾ÑŽ Ñ€ÐµÐºÐ»Ð°Ð¼Ñƒ. Ð¢Ð¾Ð³Ð´Ð° Ð´Ð°Ð²Ð°Ð¹ Ñ Ñ€Ð°ÑÑÐºÐ°Ð¶Ñƒ Ñ‚ÐµÐ±Ðµ, ÐºÐ°Ðº Ñ Ð¼Ð¾Ð³Ñƒ Ð¿Ð¾Ð¼Ð¾Ñ‡ÑŒ ÑÑÐºÐ¾Ð½Ð¾Ð¼Ð¸Ñ‚ÑŒ Ñ‚Ð²Ð¾Ðµ Ð²Ñ€ÐµÐ¼Ñ Ð² Ð¿Ð¾Ð¸ÑÐºÐµ Ð³Ñ€ÑƒÐ¿Ð¿Ñ‹.Ð”Ð»Ñ ÑÑ‚Ð¾Ð³Ð¾ Ñ‚ÐµÐ±Ðµ Ð½ÑƒÐ¶Ð½Ð¾ Ð·Ð°Ð¿Ð¾Ð»Ð½Ð¸Ñ‚ÑŒ ÐºÐ°Ñ€Ñ‚Ð¾Ñ‡ÐºÑƒ, Ð³Ð´Ðµ Ñ‚Ñ‹ ÑƒÐºÐ°Ð¶ÐµÑˆÑŒ Ð²ÑÐµ Ð¸Ð½Ñ‚ÐµÑ€ÐµÑÑƒÑŽÑ‰Ð¸Ðµ Ñ‚ÐµÐ±Ñ Ð¿Ð°Ñ€Ð°Ð¼ÐµÑ‚Ñ€Ñ‹ Ð³Ñ€ÑƒÐ¿Ð¿Ñ‹. Ð¥Ð¾Ñ‡ÐµÑˆÑŒ Ð¿Ð¾Ð¿Ñ€Ð¾Ð±Ð¾Ð²Ð°Ñ‚ÑŒ? Ð–Ð¼Ð¸ Ð´Ð°Ð»ÐµÐµ!', Markup.inlineKeyboard(
      [
        [Markup.button.callback('Ð”Ð°Ð»ÐµÐµ', 'btn-2')]
      ]  
    ))
} catch(e) {
        console.error(e)
}
});

bot.action('btn-1', (ctx) => {
    ctx.reply('Hello botick')
}); 
bot.action('btn-2', (ctx) => {
    ctx.reply('hahha sdelaem bota')
});


bot.command('info', (ctx) => {
    ctx.reply('Ð•ÑÐ»Ð¸ Ð²Ñ‹ Ð¾Ð±Ð½Ð°Ñ€ÑƒÐ¶Ð¸Ð»Ð¸ ÐºÐ°ÐºÑƒÑŽ-Ñ‚Ð¾ Ð½ÐµÐ¿Ð¾Ð»Ð°Ð´ÐºÑƒ Ð¸Ð»Ð¸ Ñƒ Ð²Ð°Ñ Ð½Ðµ Ñ€Ð°Ð±Ð¾Ñ‚Ð°ÐµÑ‚ Ð±Ð¾Ñ‚,Ð° Ñ‚Ð°ÐºÐ¶Ðµ ÐµÑÐ»Ð¸ Ñƒ Ð²Ð°Ñ ÐµÑÑ‚ÑŒ ÐºÐ°ÐºÐ¸Ðµ-Ñ‚Ð¾ Ð¿Ñ€ÐµÐ´Ð»Ð¾Ð¶ÐµÐ½Ð¸Ñ Ð¸ Ð¿Ð¾Ð¶ÐµÐ»Ð°Ð½Ð¸Ñ, Ð¿Ð¸ÑˆÐ¸Ñ‚Ðµ ÑÑŽÐ´Ð° ðŸ‘‰ @C_kybik')
});
bot.help((ctx) => ctx.reply(my_const.commands));
bot.launch();

// Enable graceful stop
process.once('SIGINT', () => bot.stop('SIGINT'));
process.once('SIGTERM', () => bot.stop('SIGTERM'));